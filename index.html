<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>MineFi Runner Test</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
    <style>
      body, html { margin: 0; padding: 0; overflow: hidden; background: #000; }
      #balance, #boostBtn {
        position: absolute; font-family: sans-serif; color: white; z-index: 2;
      }
      #balance { top: 10px; left: 10px; }
      #boostBtn {
        bottom: 20px; right: 20px;
        padding: 10px; background: gold; border-radius: 10px;
        font-weight: bold; cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div id="balance">$MINEFI: 0</div>
    <div id="boostBtn">Watch Ad: Boost x2</div>
    <script>
      let balance = 0;
      let boost = false;

      const config = {
        type: Phaser.AUTO,
        width: 360,
        height: 640,
        physics: { default: 'arcade', arcade: { gravity: { y: 300 } } },
        scene: {
          preload() {
            this.load.image('coin', 'https://i.imgur.com/TqRlKqv.png');
            this.load.image('player', 'https://i.imgur.com/JpT5LQb.png');
          },
          create() {
            this.player = this.physics.add.sprite(180, 550, 'player').setScale(0.5);
            this.coins = this.physics.add.group();

            this.physics.add.overlap(this.player, this.coins, (player, coin) => {
              coin.destroy();
              balance += boost ? 2 : 1;
              document.getElementById('balance').innerText = `$MINEFI: ${balance}`;
            }, null, this);

            this.time.addEvent({
              delay: 1000,
              callback: () => {
                const x = Phaser.Math.Between(20, 340);
                const c = this.coins.create(x, 0, 'coin').setScale(0.4);
                c.setVelocityY(100);
              },
              loop: true
            });

            this.input.on('pointerdown', () => {
              this.player.setVelocityY(-250);
            });
          },
          update() {}
        }
      };

      new Phaser.Game(config);

      document.getElementById("boostBtn").onclick = () => {
        alert("Simulated Ad Watch");
        boost = true;
        document.getElementById("boostBtn").innerText = "BOOST x2 (30s)";
        setTimeout(() => {
          boost = false;
          document.getElementById("boostBtn").innerText = "Watch Ad: Boost x2";
        }, 30000);
      };
    </script>
  </body>
</html>
